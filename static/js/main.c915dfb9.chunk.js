(this["webpackJsonpreact-forum"]=this["webpackJsonpreact-forum"]||[]).push([[0],{56:function(e,t,a){e.exports=a(70)},61:function(e,t,a){},62:function(e,t,a){},70:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(22),s=a.n(l),o=(a(61),a(12)),i=a(13),c=a(14),u=a(15),m=(a(62),a(16)),h=a(10),d=a(35),p=function(e){var t=e.component,a=e.props,n=Object(d.a)(e,["component","props"]);return r.a.createElement(m.b,Object.assign({},n,{render:function(e){return a.isAuthenticated?r.a.createElement(t,Object.assign({},e,a)):r.a.createElement(m.a,{to:"/login"})}}))},E=function(e){var t=e.component,a=e.props,n=Object(d.a)(e,["component","props"]);return r.a.createElement(m.b,Object.assign({},n,{render:function(e){return a.isAuthenticated?r.a.createElement(m.a,{to:"/"}):r.a.createElement(t,Object.assign({},e,a))}}))},f=a(75),g=a(74),b=a(77),v="http://raddit.new-labs.co:8080/raddit/",y="[User] Login";var N=function(e){Object(u.a)(a,e);var t=Object(c.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).logout=function(){localStorage.clear(),n.props.history.push("/login")},n.goToCreateForm=function(){n.props.history.push("/create")},n.goToHome=function(){n.props.history.push("/")},n.likePost=function(e){var t={method:"POST",body:JSON.stringify(1,null),headers:{"Content-Type":"application/json"}};fetch(v+"post/addlike/"+e,t).then((function(e){if(201!==e.status)throw new Error("Not created.");return e.json()})).catch((function(e){console.log(e)})),fetch(v+"post/all").then((function(e){return e.json()})).then((function(e){n.setState({posts:e,loading:!1})})).catch((function(e){console.log(e)}))},n.dislikePost=function(e){var t={method:"POST",body:JSON.stringify(1,null),headers:{"Content-Type":"application/json"}};fetch(v+"post/unlike/"+e,t).then((function(e){if(201!==e.status)throw new Error("Not disliked.");return e.json()})).catch((function(e){console.log(e)})),fetch(v+"post/all").then((function(e){return e.json()})).then((function(e){n.setState({posts:e,loading:!1})})).catch((function(e){console.log(e)}))},n.state={posts:[{post:{id:0,title:"",body:"",author:"",createTimestamp:"",likes:0,dislikes:0,interaction:0}}],loading:!0,searchItem:""},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch(v+"post/all").then((function(e){return console.log(e),e.json()})).then((function(t){console.log(t),e.setState({posts:t,loading:!1})})).catch((function(e){console.log(e)})),console.log(this.state)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"page-container"},r.a.createElement(f.a,{bg:"light",className:"white",expand:"xl"},r.a.createElement(f.a.Brand,{id:"parent",style:{marginRight:"0"},onClick:this.goToHome}," The R Word."),r.a.createElement(f.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(f.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(g.a,{className:"mr-auto"},r.a.createElement(g.a.Link,{onClick:this.goToHome},"Posts"),r.a.createElement(g.a.Link,{onClick:this.goToCreateForm},"Create"),r.a.createElement(g.a.Link,{onClick:this.logout},"Log Out")))),this.state.loading?r.a.createElement("div",{className:"content-wrap"},"LOADING ..."):r.a.createElement("div",{style:{marginTop:20},className:"blog content-wrap"},this.state.posts.map((function(t){return r.a.createElement("div",{key:t.id},r.a.createElement(b.a,{id:"card",className:"card"},r.a.createElement(b.a.Body,{style:{padding:"0"}},r.a.createElement("div",null,r.a.createElement(b.a.Title,{className:"sand"},r.a.createElement("div",{className:"container",style:{minHeight:"40px",paddingTop:"5px"}},t.title)),r.a.createElement("div",{className:"container"},r.a.createElement(b.a.Text,null,t.body),r.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},r.a.createElement(b.a.Text,{style:{position:"absolute",bottom:"5px",marginBottom:"0"}},r.a.createElement("i",{className:t.likes>0?"blue fas fa-thumbs-up":"fas fa-thumbs-up",onClick:function(){return e.likePost(t.id)}}),t.likes,r.a.createElement("i",{className:t.dislikes>0?"red fas fa-thumbs-down":"fas fa-thumbs-down",onClick:function(){return e.dislikePost(t.id)}}),t.dislikes),r.a.createElement(b.a.Text,{style:{position:"absolute",bottom:"5px",right:"10px"}},t.author)))))),r.a.createElement("br",null))}))),r.a.createElement("div",{className:"footer"},r.a.createElement("div",{className:"center"},r.a.createElement("div",{className:"row"},r.a.createElement("a",{className:"link",style:{paddingRight:"5px"},href:"https://linkedin.com/in/ruthamaya"},r.a.createElement("i",{className:"fab fa-linkedin"}),"LinkedIn"),r.a.createElement("a",{className:"link ",href:"https://github.com/amaya91"},r.a.createElement("i",{class:"fab fa-github"}),"GitHub")),r.a.createElement("div",{className:"row"}," Ruth Amaya 2020 "))))}}]),a}(n.Component),k=Object(h.b)((function(e){return{user:e.user}}),{})(N),w=a(76),C=a(73),S=a(72),j=a(18),O=function(e){Object(u.a)(a,e);var t=Object(c.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleFirstName=function(e){n.setState({firstName:e.target.value})},n.handleLastName=function(e){n.setState({lastName:e.target.value})},n.handleEmail=function(e){n.setState({email:e.target.value})},n.handlePassword=function(e){n.setState({password:e.target.value})},n.handleRepassword=function(e){n.setState({repassword:e.target.value})},n.goToHome=function(){n.props.history.push("/")},n.handleSubmit=function(e){if(e.preventDefault(),n.state.password===n.state.repassword){var t={method:"POST",body:JSON.stringify(n.state),headers:{"Content-Type":"application/json"}};fetch(v+"signup",t).then((function(e){if(201!==e.status)throw new Error("Register Failed");return e.json()})).then((function(e){n.props.history.push("login")})).catch((function(e){n.setState({hasServerError:!0}),console.log(e)}))}else n.setState({hasError:!0})},n.state={email:"",firstName:"",lastName:"",password:"",repassword:"",hasError:!1,hasServerError:!1},n}return Object(i.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"page-container"},r.a.createElement(f.a,{bg:"light",className:"white",expand:"xl"},r.a.createElement(f.a.Brand,{id:"parent",style:{marginRight:"0"}}," The R Word.")),r.a.createElement("div",{className:"container content-wrap"},r.a.createElement(b.a,null,r.a.createElement(b.a.Body,null,this.state.hasError?r.a.createElement(w.a,{variant:"danger",onClick:function(){return e.setState({hasError:!1})}},"Passwords do not match."):"",this.state.hasServerError?r.a.createElement(w.a,{variant:"danger",onClick:function(){return e.setState({hasServerError:!1})}},"Sign up failed."):"",r.a.createElement(C.a,{onSubmit:this.handleSubmit},r.a.createElement("h2",null,"The R Word"),r.a.createElement(C.a.Group,null,r.a.createElement(C.a.Label,null,"Email"),r.a.createElement(C.a.Control,{type:"text",value:this.state.email,onChange:this.handleEmail}),r.a.createElement("br",null),r.a.createElement(C.a.Label,null,"First Name"),r.a.createElement(C.a.Control,{type:"text",value:this.state.firstName,onChange:this.handleFirstName}),r.a.createElement("br",null),r.a.createElement(C.a.Label,null,"Last Name"),r.a.createElement(C.a.Control,{type:"text",value:this.state.lastName,onChange:this.handleLastName}),r.a.createElement("br",null),r.a.createElement(C.a.Label,null,"Password"),r.a.createElement(C.a.Control,{type:"password",value:this.state.password,onChange:this.handlePassword}),r.a.createElement(C.a.Label,null,"Re-enter Password"),r.a.createElement(C.a.Control,{type:"password",value:this.state.repassword,onChange:this.handleRepassword})),r.a.createElement(S.a,{type:"submit",style:{width:"100%"},variant:"dark"},"Sign Up")),r.a.createElement("br",null),r.a.createElement(j.b,{className:"link",to:"/"},"Already a user? Log in!")))),r.a.createElement("div",{className:"footer"},r.a.createElement("div",{className:"center"},r.a.createElement("div",{className:"row"},r.a.createElement("a",{className:"link",style:{paddingRight:"5px"},href:"https://linkedin.com/in/ruthamaya"},r.a.createElement("i",{className:"fab fa-linkedin"}),"LinkedIn"),r.a.createElement("a",{className:"link ",href:"https://github.com/amaya91"},r.a.createElement("i",{class:"fab fa-github"}),"GitHub")),r.a.createElement("div",{className:"row"}," Ruth Amaya 2020 "))))}}]),a}(n.Component),T=Object(h.b)((function(e){return{user:e.user}}),{})(O),x=a(55),L=function(e){Object(u.a)(a,e);var t=Object(c.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleCreate=function(e){if(e.preventDefault(),0!=n.state.title.length){var t={author:n.state.author,title:n.state.title,body:n.state.body,subraddit:n.state.subraddit},a={method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}};fetch(v+"post",a).then((function(e){if(201!==e.status)throw new Error("Not created.");return e.json()})).then((function(e){n.props.addPost(e),n.props.history.push("/")})).catch((function(e){console.log(e)}))}},n.logout=function(){localStorage.clear(),n.props.history.push("/login")},n.handleAuthor=function(e){n.setState({author:e.target.value})},n.handleTitle=function(e){n.setState({title:e.target.value})},n.handleBody=function(e){n.setState({body:e.target.value})},n.handleSubraddit=function(e){n.setState({subraddit:e.target.value})},n.goToCreateForm=function(){n.props.history.push("/create")},n.goToHome=function(){n.props.history.push("/")},n.state={id:0,title:"",body:"",author:"",subraddit:""},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return this.state.loading?r.a.createElement("div",null):r.a.createElement("div",{className:"page-container"},r.a.createElement(f.a,{bg:"light",className:"white",expand:"xl"},r.a.createElement(f.a.Brand,{id:"parent",style:{marginRight:"0"},onClick:this.goToHome}," The R Word."),r.a.createElement(f.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(f.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(g.a,{className:"mr-auto"},r.a.createElement(g.a.Link,{onClick:this.goToHome},"Posts"),r.a.createElement(g.a.Link,{onClick:this.logout},"Log Out")))),r.a.createElement("div",{className:"container content-wrap"},r.a.createElement(b.a,null,r.a.createElement(b.a.Body,null,r.a.createElement(C.a,{onSubmit:this.handleCreate},r.a.createElement("h2",null,"New Post"),r.a.createElement(x.a,null,r.a.createElement(C.a.Label,null,"Title:"),r.a.createElement(C.a.Control,{type:"text",value:this.state.title,onChange:this.handleTitle}),r.a.createElement(C.a.Label,null,"Body:"),r.a.createElement(C.a.Control,{type:"text",value:this.state.body,onChange:this.handleBody}),r.a.createElement(C.a.Label,null,"Author:"),r.a.createElement(C.a.Control,{type:"text",value:this.state.author,onChange:this.handleAuthor}),r.a.createElement(C.a.Label,null,"Topic:"),r.a.createElement(C.a.Control,{type:"text",value:this.state.subraddit,onChange:this.handleSubraddit})),r.a.createElement(S.a,{style:{width:"100%"},variant:"dark",type:"submit"},"Create New Post"))))),r.a.createElement("div",{className:"footer"},r.a.createElement("div",{className:"center"},r.a.createElement("div",{className:"row"},r.a.createElement("a",{className:"link",style:{paddingRight:"5px"},href:"https://linkedin.com/in/ruthamaya"},r.a.createElement("i",{className:"fab fa-linkedin"}),"LinkedIn"),r.a.createElement("a",{className:"link ",href:"https://github.com/amaya91"},r.a.createElement("i",{class:"fab fa-github"}),"GitHub")),r.a.createElement("div",{className:"row"}," Ruth Amaya 2020 "))))}}]),a}(n.Component),P={addPost:function(e){return{type:"[User] Add Post",payload:e}},loadPosts:function(e){return{type:"[User] Load Posts",payload:e}}},R=Object(h.b)((function(e){return{user:e.user}}),P)(L),A=function(e){Object(u.a)(a,e);var t=Object(c.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).goToSignUp=function(){n.props.history.push("/signup")},n.handleEmail=function(e){n.setState({email:e.target.value})},n.handlePassword=function(e){n.setState({password:e.target.value})},n.handleSubmit=function(e){e.preventDefault();var t={method:"POST",body:JSON.stringify(n.state),headers:{"Content-Type":"application/json"}};fetch(v+"login",t).then((function(e){if(200!==e.status)throw new Error("Login Failed");return e.json()})).then((function(e){console.log(e.userId),localStorage.setItem("user",n.state.email),n.props.login(e),n.props.history.push("/")})).catch((function(e){n.setState({hasError:!0}),console.log(e)}))},n.state={email:"",password:"",hasError:!1},n}return Object(i.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"page-container"},r.a.createElement(f.a,{bg:"light",className:"white",expand:"xl"},r.a.createElement(f.a.Brand,{id:"parent",style:{marginRight:"0"}}," The R Word.")),r.a.createElement("div",{className:"container content-wrap"},r.a.createElement(b.a,null,r.a.createElement(b.a.Body,null,this.state.hasError?r.a.createElement(w.a,{variant:"danger",onClick:function(){return e.setState({hasError:!1})}},"Login failed"):"",r.a.createElement(C.a,{onSubmit:this.handleSubmit},r.a.createElement("h2",null,"The R Word"),r.a.createElement(C.a.Group,null,r.a.createElement(C.a.Label,null,"Email"),r.a.createElement(C.a.Control,{type:"text",value:this.state.email,onChange:this.handleEmail}),r.a.createElement("br",null),r.a.createElement(C.a.Label,null,"Password"),r.a.createElement(C.a.Control,{type:"password",value:this.state.password,onChange:this.handlePassword})),r.a.createElement(S.a,{type:"submit",style:{width:"100%"},variant:"dark"},"Login")),r.a.createElement("br",null),r.a.createElement(j.b,{className:"link",to:"/signup"},"Not a User? Sign up!")))),r.a.createElement("div",{className:"footer"},r.a.createElement("div",{className:"center"},r.a.createElement("div",{className:"row"},r.a.createElement("a",{className:"link",style:{paddingRight:"5px"},href:"https://linkedin.com/in/ruthamaya"},r.a.createElement("i",{className:"fab fa-linkedin"}),"LinkedIn"),r.a.createElement("a",{className:"link ",href:"https://github.com/amaya91"},r.a.createElement("i",{class:"fab fa-github"}),"GitHub")),r.a.createElement("div",{className:"row"}," Ruth Amaya 2020 "))))}}]),a}(n.Component),B={login:function(e){return{type:y,payload:e}}},I=Object(h.b)((function(e){return{user:e.user}}),B)(A),H=function(e){var t=e.childProps;return r.a.createElement(m.d,null,r.a.createElement(p,{path:"/",exact:!0,component:k,props:t}),r.a.createElement(E,{path:"/signup",exact:!0,component:T,props:t}),r.a.createElement(p,{path:"/create",exact:!0,component:R,props:t}),r.a.createElement(E,{path:"/login",exact:!0,component:I,props:t}))},F=function(e){Object(u.a)(a,e);var t=Object(c.a)(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this)).state={isAuthenticated:!1,hasError:!1,createSuccess:!1},e}return Object(i.a)(a,[{key:"render",value:function(){var e={isAuthenticated:this.props.user.isAuthenticated};return localStorage.getItem("user")&&(e={isAuthenticated:!0}),r.a.createElement("div",{className:"white font",style:{height:"100%"}},r.a.createElement(H,{childProps:e}))}}]),a}(n.Component),U=Object(h.b)((function(e){return{user:e.user}}),{})(Object(m.g)(F)),D=(a(69),a(23)),G=a(36),J={email:"",password:"",userId:0,posts:[],isAuthenticated:!1},W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return Object(G.a)({},e,{email:t.payload.email,userId:t.payload.userId,isAuthenticated:!0});case"[User] Load Posts":return Object(G.a)({},e,{posts:t.payload});case"[User] Add Post":return Object(G.a)({},e,{post:t.payload});default:return e}},M=Object(D.b)({user:W}),q=Object(D.c)(M);s.a.render(r.a.createElement(h.a,{store:q},r.a.createElement(j.a,null,r.a.createElement(U,null))),document.getElementById("root"))}},[[56,1,2]]]);
//# sourceMappingURL=main.c915dfb9.chunk.js.map